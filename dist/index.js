document.addEventListener("DOMContentLoaded",(function(){var e=[];function t(){var t=[];document.querySelectorAll("img[src]").forEach((function(e){(e.src.includes("?lqip")||e.src.includes("&lqip"))&&t.push({type:"img",element:e})})),document.querySelectorAll("[style]").forEach((function(e){(e.style.backgroundImage.includes("?lqip")||e.style.backgroundImage.includes("&lqip"))&&t.push({type:"bg",element:e})})),e=t}function n(e){"bg"===e.type?function(e){if(e&&e.style&&e.style.backgroundImage&&3===e.style.backgroundImage.split('"').length){var[n,i]=e.style.backgroundImage.split('"')[1].split("?");i=i.split("&").filter((e=>!e.includes("lqip"))).join("&"),n=n+"?"+i;var l=document.createElement("img");l.src=n,l.addEventListener("load",(function(){l.remove(),e.style.backgroundImage="url('"+n+"')",e.setAttribute("loaded",""),t()}))}}(e.element):"img"===e.type&&function(e){var[n,i]=e.src.split("?");i=i.split("&").filter((e=>!e.includes("lqip"))).join("&"),n=n+"?"+i;var l=document.createElement("img");l.src=n,l.addEventListener("load",(function(){l.remove(),e.src=n,e.setAttribute("loaded",""),t()}))}(e.element)}function i(){var t,i,l,o;for(i=0;i<e.length;i++)t=e[i],l=t.element,o=void 0,(o=l.getBoundingClientRect()).bottom>=0&&o.left>=0&&o.top<=(window.innerHeight||document.documentElement.clientHeight)&&o.right<=(window.innerWidth||document.documentElement.clientWidth)&&!t.element.hasAttribute("loaded")&&n(t)}t(),window.addEventListener("scroll",i,{passive:!0}),i()}));
